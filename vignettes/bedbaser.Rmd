---
title: bedbaser
author:
- name: J Wokaty
  affiliation: 
  - CUNY School of Public Health
  email: jennifer.wokaty@sph.cuny.edu
package: bedbaser
output: 
  BiocStyle::html_document
vignette: >
  %\VignetteIndexEntry{bedbaser}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}  
---

```{r library, include=FALSE}
library(bedbaser)
```

bedbaser is an R client for the BEDbase [API](https://api.bedbase.org).

## Install

Install bedbaser using `r CRANpkg("BiocManager")`.

```{r install, eval=FALSE}
if (!"BiocManager" %in% rownames(installed.packages()))
    install.packages("BiocManager")
BiocManager::install("bedbaser", dependencies=TRUE)
```
## Find a BED file or BEDset

Use `get_records()` to browse available resources in BEDbase. `get_records()`
will display the record identifiers and names of BED files and BEDsets.
Record identifiers can be used to access a specific resource.

```{r get_records}
beds <- get_records("bed")
beds

bedsets <- get_records("bedset")
bedsets
```

### Examine metadata

Use `get_metadata()` to learn more about a BED file or BEDset associated with
a record identifier.

```{r get_metadata}
# Telomere
rec_id <- "80d2b2581bb25fa6b73ec56c11969fb3"
get_metadata(rec_id)
```

### Show BED files in BEDset

`get_beds_in_bedset()` returns the record identifiers of BED files in a
BEDset. 

```{r get_beds_in_bedset}
get_beds_in_bedset("excluderanges")
```

### Search for a BED file by keyword

Search for BED files by keywords:

```{r search_bedbase, eval=FALSE}
# Currently not working
results <- search_bedbase("hg13", limit=20)
```

## Download a BED file

Download a BED file by its record identifier:

```{r downloadBedFile}
# "GSM6856752_S1_H3K27ac_peaks"
filepath <- download_file(rec_id, "bytes")
```

## SessionInfo()f

```{r sessionInfo}
sessionInfo()
```   
