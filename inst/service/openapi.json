{"openapi":"3.1.0","info":{"title":"bedhost","description":"BED file/sets statistics and image server API","version":"0.3.0"},"paths":{"/":{"get":{"tags":["home"],"summary":"API intro page","description":"Display the index UI page","operationId":"index__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/docs/changelog":{"get":{"tags":["home"],"summary":"Release notes","operationId":"changelog_docs_changelog_get","responses":{"200":{"description":"Successful Response","content":{"text/html":{"schema":{"type":"string"}}}}}}},"/docs/guide":{"get":{"tags":["home"],"summary":"Developer guide","operationId":"guide_docs_guide_get","responses":{"200":{"description":"Successful Response","content":{"text/html":{"schema":{"type":"string"}}}}}}},"/service-info":{"get":{"tags":["home"],"summary":"GA4GH service info","description":"Returns information about this service, such as versions, name, etc.","operationId":"service_info_service_info_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/objects/{object_id}":{"get":{"tags":["objects"],"summary":"Get DRS object metadata","description":"Returns metadata about a DrsObject.","operationId":"get_drs_object_metadata_objects__object_id__get","parameters":[{"name":"object_id","in":"path","required":true,"schema":{"type":"string","title":"Object Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/objects/{object_id}/access/{access_id}":{"get":{"tags":["objects"],"summary":"Get URL where you can retrieve files","description":"Returns a URL that can be used to fetch the bytes of a DrsObject.","operationId":"get_object_bytes_url_objects__object_id__access__access_id__get","parameters":[{"name":"object_id","in":"path","required":true,"schema":{"type":"string","title":"Object Id"}},{"name":"access_id","in":"path","required":true,"schema":{"type":"string","title":"Access Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/objects/{object_id}/access/{access_id}/bytes":{"get":{"tags":["objects"],"summary":"Download actual files","description":"Returns the bytes of a DrsObject.","operationId":"get_object_bytes_objects__object_id__access__access_id__bytes_get","parameters":[{"name":"object_id","in":"path","required":true,"schema":{"type":"string","title":"Object Id"}},{"name":"access_id","in":"path","required":true,"schema":{"type":"string","title":"Access Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/objects/{object_id}/access/{access_id}/thumbnail":{"get":{"tags":["objects"],"summary":"Download thumbnail","description":"Returns the bytes of a thumbnail of a DrsObject","operationId":"get_object_thumbnail_objects__object_id__access__access_id__thumbnail_get","parameters":[{"name":"object_id","in":"path","required":true,"schema":{"type":"string","title":"Object Id"}},{"name":"access_id","in":"path","required":true,"schema":{"type":"string","title":"Access Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/bed/genomes":{"get":{"tags":["bed"],"summary":"Get available genome assemblies in the database","description":"Returns available genome assemblies in the database","operationId":"get_bed_genome_assemblies_bed_genomes_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"additionalProperties":{"type":"string"},"type":"object"},"type":"array","title":"Response Get Bed Genome Assemblies Bed Genomes Get"}}}}}}},"/bed/count":{"get":{"tags":["bed"],"summary":"Number of BED records in the database","description":"Returns the number of bed records available in the database","operationId":"count_bed_record_bed_count_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"integer","title":"Response Count Bed Record Bed Count Get"}}}}}}},"/bed/schema":{"get":{"tags":["bed"],"summary":"Schema for BED records","description":"Get pipestat schema for BED records used by this database","operationId":"get_bed_schema_bed_schema_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Bed Schema Bed Schema Get"}}}}}}},"/bed/example":{"get":{"tags":["bed"],"summary":"Get metadata for an example BED record","operationId":"get_example_bed_record_bed_example_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BedMetadataResponse"}}}}}}},"/bed/list":{"get":{"tags":["bed"],"summary":"Paged list of all BED records","description":"To get the first page, leave token field empty. The response will include a\n'next_page_token' field, which can be used to get the next page.","operationId":"list_beds_bed_list_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":1000,"title":"Limit"}},{"name":"token","in":"query","required":false,"schema":{"type":"integer","title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListBedFilesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/bed/{bed_id}/metadata":{"get":{"tags":["bed"],"summary":"Get metadata for a single BED record","description":"Returns metadata from selected columns for selected BED record","operationId":"get_bed_metadata_bed__bed_id__metadata_get","parameters":[{"name":"bed_id","in":"path","required":true,"schema":{"type":"string","minLength":32,"maxLength":32,"pattern":"^\\w+$","description":"BED digest","title":"Bed Id"},"description":"BED digest"},{"name":"attr_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Column name to select from the table","title":"Attr Id"},"description":"Column name to select from the table"},{"name":"raw","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Add raw metadata from pephub","default":false,"title":"Raw"},"description":"Add raw metadata from pephub"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BedMetadataResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/bed/{bed_id}/regions/{chr_num}":{"get":{"tags":["bed"],"summary":"Get regions from a BED file that overlap a query region.","description":"Returns the queried regions with provided ID and optional query parameters","operationId":"get_regions_for_bedfile_bed__bed_id__regions__chr_num__get","parameters":[{"name":"bed_id","in":"path","required":true,"schema":{"type":"string","minLength":32,"maxLength":32,"pattern":"^\\w+$","description":"BED digest","title":"Bed Id"},"description":"BED digest"},{"name":"chr_num","in":"path","required":true,"schema":{"type":"string","pattern":"^\\S+$","description":"Chromosome number","title":"Chr Num"},"description":"Chromosome number","example":"chr1"},{"name":"start","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"query range: start coordinate","title":"Start"},"description":"query range: start coordinate"},{"name":"end","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"query range: start coordinate","title":"End"},"description":"query range: start coordinate"}],"responses":{"200":{"description":"Successful Response","content":{"text/plain":{"schema":{"type":"string"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/bedset/genomes":{"get":{"tags":["bedset"],"summary":"Get Bedset Genome Assemblies","description":"Returns available genome assemblies in the database","operationId":"get_bedset_genome_assemblies_bedset_genomes_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"type":"object"},"type":"array","title":"Response Get Bedset Genome Assemblies Bedset Genomes Get"}}}}}}},"/bedset/count":{"get":{"tags":["bedset"],"summary":"Get Bedset Count","description":"Returns the number of bedsets available in the database","operationId":"get_bedset_count_bedset_count_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"integer","title":"Response Get Bedset Count Bedset Count Get"}}}}}}},"/bedset/schema":{"get":{"tags":["bedset"],"summary":"Get Bedset Schema","description":"Get bedsets pipestat schema","operationId":"get_bedset_schema_bedset_schema_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Bedset Schema Bedset Schema Get"}}}}}}},"/bedset/example":{"get":{"tags":["bedset"],"summary":"Get metadata for an example BEDset record","operationId":"get_example_bedset_record_bedset_example_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BedSetMetadataResponse"}}}}}}},"/bedset/list":{"get":{"tags":["bedset"],"summary":"Paged list of all BEDset records","description":"Returns a paged list of all BEDset records","operationId":"list_bedsets_bedset_list_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":1000,"title":"Limit"}},{"name":"token","in":"query","required":false,"schema":{"type":"integer","title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListBedFilesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/bedset/{bedset_id}/metadata":{"get":{"tags":["bedset"],"summary":"Get Bedset Metadata","description":"Returns metadata from selected columns for selected bedset","operationId":"get_bedset_metadata_bedset__bedset_id__metadata_get","parameters":[{"name":"bedset_id","in":"path","required":true,"schema":{"type":"string","title":"Bedset Id"}},{"name":"ids","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"description":"Column name to select from the table","title":"Ids"},"description":"Column name to select from the table"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BedSetMetadataResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/bedset/{bedset_id}/bedfiles":{"get":{"tags":["bedset"],"summary":"Get Bedfiles In Bedset","operationId":"get_bedfiles_in_bedset_bedset__bedset_id__bedfiles_get","parameters":[{"name":"bedset_id","in":"path","required":true,"schema":{"type":"string","title":"Bedset Id"}},{"name":"metadata","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Whether to add metadata to response","default":false,"title":"Metadata"},"description":"Whether to add metadata to response"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BedsetResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/bedset/{bedset_id}/track_hub":{"get":{"tags":["bedset"],"summary":"Get Track Hub Bedset","description":"Generate track hub files for the BED set","operationId":"get_track_hub_bedset_bedset__bedset_id__track_hub_get","parameters":[{"name":"bedset_id","in":"path","required":true,"schema":{"type":"string","title":"Bedset Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/search/bed/{query}":{"get":{"tags":["search"],"summary":"Text To Bed Search","operationId":"text_to_bed_search_search_bed__query__get","parameters":[{"name":"query","in":"path","required":true,"schema":{"title":"Query"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"BedFile":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"BED file name","nullable":true},"genome":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Genome","description":"genome assembly of the BED files","nullable":true},"bed_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bed Type","description":"type of BED file, eg. \"bed3\", \"bed6+4\"","nullable":true},"bed_format":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bed Format","description":"format type of BED file, narrowpeak, broadpeak, or bed","nullable":true},"bedfile":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Bedfile","description":"BED file","nullable":true},"bigbedfile":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Bigbedfile","description":"bigBed file","nullable":true},"regions_no":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Regions No","description":"Number of regions","nullable":true},"gc_content":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Gc Content","description":"GC content","nullable":true},"median_tss_dist":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Median Tss Dist","description":"Median TSS distance","nullable":true},"mean_region_width":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Mean Region Width","description":"Mean region width","nullable":true},"exon_frequency":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Exon Frequency","description":"Exon frequency","nullable":true},"intron_frequency":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Intron Frequency","description":"Intron frequency","nullable":true},"promoterprox_frequency":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Promoterprox Frequency","description":"Promoter frequency","nullable":true},"intergenic_frequency":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Intergenic Frequency","description":"Intergenic frequency","nullable":true},"promotercore_frequency":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Promotercore Frequency","description":"Promoter core frequency","nullable":true},"fiveutr_frequency":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Fiveutr Frequency","description":"5' UTR frequency","nullable":true},"threeutr_frequency":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Threeutr Frequency","description":"3' UTR frequency","nullable":true},"fiveutr_percentage":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Fiveutr Percentage","description":"5' UTR percentage","nullable":true},"threeutr_percentage":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Threeutr Percentage","description":"3' UTR percentage","nullable":true},"promoterprox_percentage":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Promoterprox Percentage","description":"Promoter proc percentage","nullable":true},"exon_percentage":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Exon Percentage","description":"Exon percentage","nullable":true},"intron_percentage":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Intron Percentage","description":"Intron percentage","nullable":true},"intergenic_percentage":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Intergenic Percentage","description":"Intergenic percentage","nullable":true},"promotercore_percentage":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Promotercore Percentage","description":"Promoter core percentage","nullable":true},"tssdist":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Tssdist","description":"Region-TSS distance plot","nullable":true},"chrombins":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Chrombins","description":"Regions distribution over chromosomes plot","nullable":true},"gccontent":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Gccontent","description":"GC content plot","nullable":true},"partitions":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Partitions","description":"Regions distribution over genomic partitions plot","nullable":true},"expected_partitions":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Expected Partitions","description":"Expected distribution over genomic partitions plot","nullable":true},"cumulative_partitions":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Cumulative Partitions","description":"Cumulative distribution over genomic partitions plot","nullable":true},"widths_histogram":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Widths Histogram","description":"Quantile-trimmed histogram of widths","nullable":true},"neighbor_distances":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Neighbor Distances","description":"Distance between neighbor regions","nullable":true},"open_chromatin":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Open Chromatin","description":"Cell specific enrichment for open chromatin plot","nullable":true},"other":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Other","description":"Other, not categorized BED file metadata","nullable":true},"upload_status":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Upload Status","description":"Status of the upload to the databases: Dict[s3, qdrant, pephub]","nullable":true}},"additionalProperties":true,"type":"object","title":"BedFile"},"BedMetadataResponse":{"properties":{"record_identifier":{"type":"string","title":"Record Identifier"},"metadata":{"$ref":"#/components/schemas/BedFile"},"raw":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Raw"}},"type":"object","required":["record_identifier","metadata"],"title":"BedMetadataResponse"},"BedSet":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"BED set name","nullable":true},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"description of the BED set","nullable":true},"md5sum":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Md5Sum","description":"digest of the BED set","nullable":true},"genome":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Genome","description":"genome assembly of the BED sets","nullable":true},"bedset_means":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Bedset Means","description":"Mean statistics of the BED files in this BED set","nullable":true},"bedset_standard_deviation":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Bedset Standard Deviation","description":"Standard deviations of statistics of the BED files in this BED set","nullable":true},"region_commonality":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Region Commonality","description":"Region commonality plot","nullable":true},"processed":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Processed","description":"whether the BED set stats/plot are completed","nullable":true},"pephub_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pephub Path","description":"PEPhub registry path","nullable":true}},"additionalProperties":true,"type":"object","title":"BedSet"},"BedSetMetadataResponse":{"properties":{"record_identifier":{"type":"string","title":"Record Identifier"},"metadata":{"$ref":"#/components/schemas/BedSet"},"raw":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Raw"}},"type":"object","required":["record_identifier","metadata"],"title":"BedSetMetadataResponse"},"BedsetResponse":{"properties":{"bedset_record_id":{"type":"string","title":"Bedset Record Id"},"number_of_bedfiles":{"type":"integer","title":"Number Of Bedfiles"},"bedfile_metadata":{"items":{"type":"object"},"type":"array","title":"Bedfile Metadata"}},"type":"object","required":["bedset_record_id","number_of_bedfiles","bedfile_metadata"],"title":"BedsetResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ListBedFilesResponse":{"properties":{"total_size":{"type":"integer","title":"Total Size"},"page_size":{"type":"integer","title":"Page Size"},"next_page_token":{"type":"integer","title":"Next Page Token"},"records":{"items":{"$ref":"#/components/schemas/RecordsIdReturn"},"type":"array","title":"Records"}},"type":"object","required":["total_size","page_size","next_page_token","records"],"title":"ListBedFilesResponse"},"RecordsIdReturn":{"properties":{"record_identifier":{"type":"string","title":"Record Identifier"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","default":[null]}},"type":"object","title":"RecordsIdReturn"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}},"tags":[{"name":"home","description":"General landing page and service info"},{"name":"objects","description":"Download BED files or BEDSET files via [GA4GH DRS standard](https://ga4gh.github.io/data-repository-service-schemas/). For details, see [BEDbase Developer Guide](/docs/guide)."},{"name":"bed","description":"Endpoints for retrieving metadata for BED records"},{"name":"bedset","description":"Endpoints for retrieving metadata for BEDSET records"},{"name":"search","description":"Discovery-oriented endpoints for finding records of interest"}]}